<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SWUSTCNES</title>
    <script type="text/javascript" src="ref/jquery-3.3.1/jquery-3.3.1.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--jquery 和 boostarp 引入-->
    <script type="text/javascript" src="ref/jquery-3.3.1/jquery-3.3.1.min.js"></script>
    <link rel="stylesheet" href="ref/bootstrap-3.3.7/css/bootstrap.css">
    <script src="./ref/bootstrap-3.3.7/js/bootstrap.js"></script>
    <link rel="stylesheet" href="ref/bootstrap-3.3.7/css/bootstrap-theme.css">
    <!--小图标文件引入-->
    <link rel="stylesheet" href="./ref/iconfont/iconfont.css">

    <style>
        .row {
            margin: 10px;
        }
        .head {
            height: 90px;
            background-color: #eee;
        }
        /*
         *PC
         */
        @media (max-width:992px){
            .login_left_img {
                display:none;
            }
            .input_register_phone{
                background-color: #eee;
                padding-bottom: 20px;
                box-shadow: 10px 10px 5px #888888;
                border-radius:10px;
            }
        }
        /*
         * phone
         */
        @media (min-width:992px){
            .input_register_phone{
                background-color: #eee;
                padding-bottom: 100px;
                box-shadow: 10px 10px 5px #888888;
                border-radius:25px;
            }
            .row_space_phone{
                /*height: 50px;*/
            }
        }
        .input-group{
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
<!--header-->
<div class="row">
    <div class="col-lg-6
                col-md-6
                col-sm-6
                col-xs-12 text-center head">
        <img src="img/swust-logo.png" alt="">
    </div>
    <div class="col-lg-6
                col-md-6
                col-sm-6
                col-xs-12 text-center head">
        <h2>SWUSTCNES</h2>
    </div>
</div>
<!--导航条-->
<div class="row">
    <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse"
                        data-target="#navbar-collapse">
                    <span class="sr-only">切换导航</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">CNES</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-collapse">
                <ul class="nav navbar-nav">
                    <li class=""><a href="">首页</a></li>
                    <li  ><a href="./notice.html">公告</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            友情链接 <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="http://www.swust.edu.cn/">西南科技大学</a></li>
                            <li><a href="http://www.cs.swust.edu.cn/">计算机科学与技术学院</a></li>
                            <li><a href="http://acm.swust.edu.cn/">SWUST OJ</a></li>
                        </ul>
                    </li>
                    <li class="active"><a href="./login.html">后台登录</a></li>
                </ul>
            </div>
        </div>
    </nav>
</div>
<!--内容-->
<div class="row" id="reg">
    <div class="col-lg-6
                col-md-6
                col-sm-6
                col-xs-12
                login_left_img">
        <img src="img/logo4.png" alt="">
    </div>
    <div class="col-lg-1
                col-md-1
                col-sm-1
                col-xs-12"></div>
    <div class="col-lg-4
                col-md-4
                col-sm-4
                col-xs-12">
        <div class="row input_register_phone input_register">
            <div class="col-lg-8 col-lg-offset-2 col-md-6 col-sm-6 col-xs-12">
                <h3>用户注册</h3>
            </div>
            <br><br><br>
            <div class="col-lg-8 col-lg-offset-2 col-md-6 col-sm-6 col-xs-10 col-xs-offset-1
                            input-group">
            <span class="input-group-addon" style="background-color:white;"><i class="icon iconfont icon-zhanghao"></i></span>
            <input type="text" class="form-control" v-model="account" placeholder="请输入学号">
            </div>
            <div class="col-lg-8 col-lg-offset-2 col-md-6 col-sm-6 col-xs-10 col-xs-offset-1
                            input-group">
                <span class="input-group-addon" style="background-color:white;"><i class="icon iconfont  icon-mima"></i></span>
                <input type="password" class="form-control" v-model="pwd" placeholder="请输入密码">
            </div>
            <div class="col-lg-8 col-lg-offset-2 col-md-6 col-sm-6 col-xs-10 col-xs-offset-1
                            input-group">
                <span class="input-group-addon" style="background-color:white;"><i class="icon iconfont  icon-mima"></i></span>
                <input type="password" class="form-control" v-model="pwd2" placeholder="请再次输入密码">
            </div>
            <div class="col-lg-8 col-lg-offset-2 col-md-6 col-sm-6 col-xs-10 col-xs-offset-1
                            input-group">
                <span class="input-group-addon" style="background-color:white;"><i class="icon iconfont  icon-youxiang"></i></span>
                <input type="text" class="form-control" v-model="email" placeholder="请输入邮箱">
            </div>

            <a class="btn btn-info col-lg-8 col-lg-offset-2 col-md-6 col-sm-6 col-xs-10 col-xs-offset-1"
               v-on:click="submit">
                提交注册</a>
            <br><br>
            <a class="btn btn-info col-lg-8 col-lg-offset-2 col-md-6 col-sm-6 col-xs-10 col-xs-offset-1"
               href="./login.html">
                返回登录</a>
        </div>
    </div>
</div>
<!--footer-->
<div class="row">
    <nav class="navbar navbar-default navbar-fixed-bottom text-center" role="navigation">
        <a class="na" href="#">版权所有&copy;2017西南科技大学计算机科学与技术学院</a><br>
        <span class="na1">教育信息化推进办公室技术支持&nbsp;电话:0816-15280905869</span>
    </nav>
</div>
<!--引入vue.js 和 私有js-->
<script src="./ref/vue/vue.js"></script>
<!--模态框div引入-->
<script src="common/modal.js"></script>
<!--工具函数引入-->
<script src="common/tools.js"></script>

<script>
    var vm = new Vue({
        el:'#reg',
        data:{
            'account':'',
            'pwd':'',
            'pwd2':'',
            'email':''
        },
        methods:{
            submit(){
                if(tools.isNull(vm.account) || tools.isNull(vm.pwd) ||tools.isNull(vm.pwd2) ||tools.isNull(vm.email)){
                    tools.warningC("提示","信息不能为空")
                }else if(vm.pwd !== vm.pwd2){
                    tools.warningC("提示","两次密码不一致")
                }else{
                    tools.postFetch('admin/User/register?XDEBUG_SESSION_START=13860','SNO='+vm.account+"&PWD="+vm.pwd+"&Email="+vm.email,vm.submitOK);
                }
            },
            submitOK(data){
                if(data.res === true){
                    tools.warningC("提示",data.msg)
                }else{
                    tools.warningC("提示",data.msg)
                }
            }
        }
    });
</script>
</body>
</html>